<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <h1>TP 6</h1>
    <script>
      const vowels = ["a", "e", "i", "o", "u"]
      const splited = (split) => {
        const letterConsonant = split.filter(value => value !== vowels.find(vowel => vowel === value))
        const letterVowel = split.filter(value => value === vowels.find(vowel => vowel === value))
        return {
          consonant: letterConsonant,
          vowel: letterVowel
        }
      }
      const fiscalCode = (code) => {
        let compteurVowel = 0
        let nameUppercase = ""
        let surnameUppercase = ""
        const { name, surname, gender, dob } = code
        const nameConsonant = splited(name.toLowerCase().split("")).consonant
        const nameVowel = splited(name.toLowerCase().split("")).vowel
        const surnameConsonant = splited(surname.toLowerCase().split("")).consonant
        const surnameVowel = splited(surname.toLowerCase().split("")).vowel
        //Matt -> MTT //
        if(nameConsonant.length >= 3) {
          console.log('ouais', nameConsonant)
          nameUppercase = nameConsonant.join("").toUpperCase()
        }
        //Hope -> HPO
        if(nameConsonant.length < 3 && nameSplited.length > 3){
          console.log("ici?")
          nameUppercase = nameConsonant.concat(nameVowel).splice(0,3).join("").toUpperCase()
        }
        //Newman -> NWM
        if(nameConsonant.length >= 3 && name.length > 3){
          console.log("Newman?")
          nameUppercase = nameConsonant.splice(0,3).join("").toUpperCase()
        }
        // Mat -> MTA
        if(nameConsonant.length < 3 &&  name.length <= 3){
          nameUppercase = nameConsonant.concat(nameVowel).join("").toUpperCase()
        }
        //Yu -> YUX
        if(name.length < 3){
            nameSplited.push('x')
            nameUppercase = nameSplited.join("").toUpperCase();
        }
        console.log('name', nameUppercase)
        /* SURNAME */
      }
      // Générez 3 lettres majuscules à partir du nom, s’il y a :
      // Exactement 3 consonnes ,les consonnes sont utilisées dans l'ordre
      // où elles apparaissent (Matt -> MTT). Plus de 3 consonnes , la première,
      // troisième et quatrième consonnes sont utilisées (Samantha -> SNT | Thomas -> TMS).
      // Moins de 3 consonnes, les voyelles remplaceront les caractères
      // manquants dans le même ordre qu'ils apparaissent (Bob -> BBO | Paula -> PLA).
      fiscalCode({
        name: 'Newman',
        surname: 'Samantha',
        gender: 'M',
        dob: "1/1/1900",
      })
    </script>
  </body>
</html>
